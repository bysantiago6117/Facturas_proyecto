<div class="title">
    <h1 class="titulo">Listado de facturas</h1>
</div>

<div class="container">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" >

        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->
      
        <!-- Position Column -->
        <ng-container matColumnDef="codigoFactura">
          <th mat-header-cell class="columns" *matHeaderCellDef > Codigo </th>
          <td mat-cell *matCellDef="let element"> {{element.codigoFactura}} </td>
        </ng-container>

        <ng-container matColumnDef="nombreCliente">
            <th mat-header-cell class="columns" *matHeaderCellDef > Cliente</th>
            <td mat-cell *matCellDef="let element"> {{element.nombreCliente}} </td>
          </ng-container>

        <ng-container matColumnDef="ciudad">
            <th mat-header-cell class="columns" *matHeaderCellDef> Ciudad</th>
            <td mat-cell *matCellDef="let element"> {{element.ciudad}} </td>
          </ng-container>

          <ng-container matColumnDef="nit">
            <th mat-header-cell class="columns" *matHeaderCellDef> NIT</th>
            <td mat-cell *matCellDef="let element"> {{element.nit}} </td>
          </ng-container>

          <ng-container  matColumnDef="totalFactura">
            <th mat-header-cell class="columns" *matHeaderCellDef> Total Factura</th>
            <td mat-cell *matCellDef="let element"> {{element.totalFactura}} </td>
          </ng-container>

          <ng-container matColumnDef="subTotal">
            <th mat-header-cell class="columns" *matHeaderCellDef> Sub Total</th>
            <td mat-cell *matCellDef="let element"> {{element.subTotal}} </td>
          </ng-container>

          <ng-container matColumnDef="iva">
            <th mat-header-cell class="columns" *matHeaderCellDef>IVA</th>
            <td mat-cell *matCellDef="let element"> {{element.iva}} </td>
          </ng-container>

          <ng-container matColumnDef="retencion">
            <th mat-header-cell class="columns" *matHeaderCellDef>Retencion </th>
            <td mat-cell *matCellDef="let element"> {{element.retencion}} </td>
          </ng-container>

          <ng-container matColumnDef="fechaCreacion">
            <th mat-header-cell class="columns" *matHeaderCellDef>Fecha Creacion</th>
            <td mat-cell *matCellDef="let element"> {{element.fechaCreacion | date: 'dd/MM/yyyy'}} </td>
          </ng-container>

          <ng-container matColumnDef="estado">
            <th mat-header-cell class="columns" *matHeaderCellDef>Estado </th>
            <td mat-cell *matCellDef="let element"> {{_facturaService.getEstadoTexto(element.estado)}} </td>
          </ng-container>

          <ng-container matColumnDef="pagada">
            <th mat-header-cell class="columns" *matHeaderCellDef>Pagada </th>
            <td mat-cell *matCellDef="let element"> {{element.pagada}} </td>
          </ng-container>

          <ng-container matColumnDef="fechaPago">
            <th mat-header-cell class="columns" *matHeaderCellDef>Fecha  Pago</th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="element.fechaPago; else sinPago">
                {{ element.FechaPago | date: 'dd/MM/yyyy' }}
              </ng-container>
              <ng-template #sinPago>Sin pago</ng-template>
            </td>
          </ng-container>

          <ng-container matColumnDef="Acciones">
             <th mat-header-cell class="columns" *matHeaderCellDef>Ver Detalles</th>
             <td mat-cell *matCellDef="let element"> <mat-icon routerLink="/verFactura/{{element.codigoFactura}}"  matTooltip="informacion de la factura"  class="search" fontIcon="search"></mat-icon> </td>
          </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
</div>

